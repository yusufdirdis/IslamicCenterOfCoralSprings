<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate - Islamic Center of Coral Springs</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        /* Islamic-inspired animated background */
        .text-section {
            background-image: none !important;
            background: linear-gradient(135deg,
                    #001a4d 0%,
                    #0d1b2a 20%,
                    #1b263b 35%,
                    #0d47a1 50%,
                    #1565c0 65%,
                    #0d1b2a 80%,
                    #001a4d 100%) !important;
            background-size: 400% 400% !important;
            background-attachment: fixed !important;
            position: relative;
            overflow: hidden;
            animation: smoothGradient 25s ease infinite;
            will-change: background-position;
            min-height: auto !important;
            padding-bottom: 0 !important;
        }

        /* Animated gradient background layer */
        .text-section::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 50% 50%,
                    rgba(13, 71, 161, 0.4) 0%,
                    rgba(21, 101, 192, 0.3) 20%,
                    rgba(13, 27, 42, 0.3) 40%,
                    rgba(0, 26, 77, 0.4) 60%,
                    transparent 100%);
            animation: gentleFloat 30s ease-in-out infinite;
            z-index: 1;
            transform-origin: center center;
            will-change: transform;
        }

        /* Islamic geometric pattern overlay */
        .text-section::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                repeating-linear-gradient(45deg, transparent, transparent 50px, rgba(82, 123, 235, 0.02) 50px, rgba(82, 123, 235, 0.02) 52px),
                repeating-linear-gradient(-45deg, transparent, transparent 50px, rgba(82, 123, 235, 0.03) 50px, rgba(82, 123, 235, 0.03) 52px),
                radial-gradient(circle at 20% 30%, rgba(21, 101, 192, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(13, 71, 161, 0.04) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 100%, rgba(13, 71, 161, 0.08) 0%, transparent 60%);
            animation: patternFloat 35s ease-in-out infinite;
            z-index: 2;
            pointer-events: none;
            will-change: transform, opacity;
        }

        /* Smooth gradient animation using background-position */
        @keyframes smoothGradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Gentle floating animation - optimized for mobile */
        @keyframes gentleFloat {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
            }

            33% {
                transform: translate(-45%, -55%) scale(1.1) rotate(3deg);
            }

            66% {
                transform: translate(-55%, -45%) scale(1.05) rotate(-3deg);
            }
        }

        @keyframes patternFloat {

            0%,
            100% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }

            50% {
                transform: translateY(-20px) scale(1.02);
                opacity: 0.95;
            }
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .text-section {
                background-size: 300% 300% !important;
                animation: smoothGradient 20s ease infinite;
            }

            .text-section::before {
                top: -40%;
                left: -40%;
                width: 180%;
                height: 180%;
                animation: gentleFloatMobile 25s ease-in-out infinite;
            }

            @keyframes gentleFloatMobile {

                0%,
                100% {
                    transform: translate(-50%, -50%) scale(1) rotate(0deg);
                }

                50% {
                    transform: translate(-45%, -50%) scale(1.05) rotate(2deg);
                }
            }

            .text-section::after {
                animation: patternFloatMobile 30s ease-in-out infinite;
            }

            @keyframes patternFloatMobile {

                0%,
                100% {
                    transform: translateY(0) scale(1);
                    opacity: 1;
                }

                50% {
                    transform: translateY(-10px) scale(1.01);
                    opacity: 0.98;
                }
            }
        }

        /* Ensure content stays above animated backgrounds */
        .text-section>* {
            position: relative;
            z-index: 3;
        }

        /* Footer override for donate page */
        .footer {
            position: relative !important;
            bottom: 0 !important;
            margin-top: 60px !important;
        }

        /* Modern Donate Button Styling */
        .donate-nav-button a {
            background: linear-gradient(135deg, #1565c0, #0d47a1) !important;
            color: white !important;
            padding: 12px 30px !important;
            border-radius: 25px !important;
            border: 2px solid transparent !important;
            font-weight: 600 !important;
            letter-spacing: 0.5px !important;
            transition: all 0.3s ease !important;
            box-shadow: 0 4px 15px rgba(13, 71, 161, 0.3) !important;
            text-transform: uppercase !important;
            font-size: 0.95rem !important;
        }

        .donate-nav-button a:hover {
            background: linear-gradient(135deg, #0d47a1, #1565c0) !important;
            color: white !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 20px rgba(13, 71, 161, 0.5) !important;
            border-color: rgba(255, 255, 255, 0.3) !important;
        }

        /* Modern donation section styling */
        .donation-section {
            background: rgba(255, 255, 255, 0.97) !important;
            padding: 50px 55px !important;
            border-radius: 20px !important;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15) !important;
            max-width: 800px !important;
        }

        .donation-section h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: rgb(3, 30, 104);
            margin-bottom: 25px;
            letter-spacing: 0.5px;
        }

        .donation-text {
            font-size: 1.15rem !important;
            line-height: 1.85 !important;
            color: #444 !important;
            margin-bottom: 35px !important;
            font-weight: 400 !important;
            letter-spacing: 0.3px !important;
            text-align: left !important;
        }

        .donation-text strong {
            color: rgb(3, 30, 104);
            font-weight: 600;
        }

        .donation-amounts h3 {
            font-size: 1.5rem;
            color: rgb(3, 30, 104);
            margin-bottom: 20px;
            font-weight: 600;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .donation-section {
                padding: 35px 30px !important;
            }

            .donation-section h2 {
                font-size: 1.8rem;
            }

            .donation-text {
                font-size: 1.05rem !important;
                line-height: 1.75 !important;
            }
        }

        @media (max-width: 480px) {
            .donation-section {
                padding: 30px 25px !important;
            }

            .donation-section h2 {
                font-size: 1.6rem;
            }

            .donation-text {
                font-size: 1rem !important;
            }
        }
    </style>
</head>

<body>

    <nav class="navbar-one flex">
        <div class="left flex">
            <div class="email">
                <i class="fa fa-envelope"></i>
                <span> info@iccsfl.com</span>
            </div>
            <div class="call">
                <i class="fa fa-phone"></i>
                <span> (954) 529-7146</span>
            </div>
        </div>
        <div class="right flex">
            <i class="fab fa-facebook"></i>
            <a href="https://www.facebook.com/iccsfl" target="_blank">Facebook</a>
        </div>
    </nav>

    <nav class="navbar-two flex" id="main-nav">
        <div class="logo">
            <img src="logo.png" alt="ICCS Logo" class="logo-image">
            <p>Islamic Center of Coral Springs</p>
        </div>
        <button class="menu-toggle" aria-label="Toggle navigation" aria-expanded="false"
            aria-controls="primary-navigation">
            <i class="fa fa-bars"></i>
        </button>
        <ul class="flex nav-links" id="primary-navigation">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li class="hide-desktop"><a href="#" onclick="window.location.href='donatepage.html'">Donate</a></li>
        </ul>
        <div class="donate-nav-button">
            <a href="#" onclick="window.location.href='donatepage.html'">Donate</a>
        </div>
    </nav>

    <!-- Donate page content -->
    <section class="text-section">
        <div class="hero-container">
            <div class="hero-welcome">DONATE TO</div>
            <hr class="hero-divider">
            <div class="hero-title">ISLAMIC CENTER OF CORAL SPRINGS</div>

            <div class="donation-section">
                <h2>Support ICCS</h2>
                <p class="donation-text">
                    ICCS has been serving the Muslim Community of Coral Springs and nearby cities since 2012.
                    We are now blessed with an incredible opportunity to expand our center by purchasing an additional
                    part of the building for $1.3 million. Alhamdulillah, we have already raised a significant portion
                    and only <strong>$700,000 remains to be collected by December.</strong>
                    We humbly ask you to become part of this historic milestone. Your contribution <strong>in any
                        amount</strong> will be a Sadaqa-e-Jariyah, bringing ongoing rewards and serving as a means to
                    your Jannah, In Sha Allah. Let us come together as a community to make this dream a reality.
                </p>

                <div class="donation-amounts">
                    <h3>Choose Donation Amount</h3>
                    <div class="amount-buttons">
                        <button class="amount-btn" data-amount="25">$25</button>
                        <button class="amount-btn" data-amount="50">$50</button>
                        <button class="amount-btn" data-amount="100">$100</button>
                        <button class="amount-btn" data-amount="250">$250</button>
                        <button class="amount-btn" data-amount="500">$500</button>
                        <button class="amount-btn" data-amount="1000">$1,000</button>
                    </div>
                    <div class="custom-amount">
                        <input type="number" id="custom-amount" placeholder="Enter custom amount" min="1">
                    </div>
                    <button id="checkout-button" class="donate-now-button" disabled>Donate Now</button>
                </div>
            </div>
        </div>

        <footer class="footer">
            <img src="logo.png" alt="ICCS Logo" class="footer-logo">
            <p>11050 Wiles Rd, Coral Springs, FL 33076
            </p>
            <p>&copy; 2025 Islamic Center of Coral Springs. All rights reserved.</p>
        </footer>

    </section>

    <script>
        // Mobile nav toggle
        (function () {
            var nav = document.getElementById('main-nav');
            var toggle = document.querySelector('.menu-toggle');
            if (toggle && nav) {
                toggle.addEventListener('click', function () {
                    var isOpen = nav.classList.toggle('is-open');
                    toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
                });
            }
        })();

        (function () {
            const amountBtns = document.querySelectorAll('.amount-btn');
            const customInput = document.getElementById('custom-amount');
            const donateBtn = document.getElementById('checkout-button');
            let selected = null;

            // Handle preset buttons
            amountBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    amountBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    selected = parseInt(btn.dataset.amount, 10);
                    donateBtn.disabled = false;
                });
            });

            // Handle custom amount input
            if (customInput) {
                customInput.addEventListener('input', () => {
                    const val = parseFloat(customInput.value);
                    if (!isNaN(val) && val >= 1) {
                        selected = val;
                        donateBtn.disabled = false;
                    } else {
                        donateBtn.disabled = true;
                    }
                });
            }

            // On donate click â†’ call server and redirect
            donateBtn.addEventListener('click', async () => {
                if (!selected) return;
                const cents = Math.round(selected * 100);
                try {
                    const res = await fetch('/create-checkout-session', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ amount: cents })
                    });
                    const data = await res.json();
                    if (data.url) {
                        window.location = data.url; // Go to Stripe Checkout
                    } else {
                        alert(data.error || 'Failed to start checkout.');
                    }
                } catch (e) {
                    alert('Network error starting checkout.');
                }
            });
        })();
    </script>

</body>

</html>