<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    /* Islamic-inspired animated background */
    .text-section {
      background-image: none !important;
      background-color: #000814 !important;
      position: relative;
      overflow: hidden;
    }
    
    /* Animated gradient background */
    .text-section::before {
      content: '';
      position: absolute;
      top: -100%;
      left: -100%;
      width: 300%;
      height: 300%;
      background: linear-gradient(
        -45deg,
        #001a4d 0%,
        #0d1b2a 15%,
        #1b263b 25%,
        #0d47a1 40%,
        #1565c0 55%,
        #0d1b2a 70%,
        #001a4d 85%,
        #000000 100%
      );
      animation: gradientShift 20s ease-in-out infinite;
      z-index: 1;
    }
    
    /* Islamic geometric pattern overlay */
    .text-section::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        repeating-linear-gradient(45deg, transparent, transparent 50px, rgba(82, 123, 235, 0.02) 50px, rgba(82, 123, 235, 0.02) 52px),
        repeating-linear-gradient(-45deg, transparent, transparent 50px, rgba(82, 123, 235, 0.04) 50px, rgba(82, 123, 235, 0.04) 52px),
        radial-gradient(circle at 20% 30%, rgba(21, 101, 192, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(13, 71, 161, 0.05) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, rgba(13, 71, 161, 0.1) 0%, transparent 60%);
      animation: patternFloat 25s ease-in-out infinite;
      z-index: 2;
      pointer-events: none;
    }
    
    
    /* Animations */
    @keyframes gradientShift {
      0% {
        transform: translate(0, 0) rotate(0deg);
      }
      25% {
        transform: translate(-15%, -15%) rotate(10deg);
      }
      50% {
        transform: translate(-25%, -10%) rotate(15deg);
      }
      75% {
        transform: translate(-15%, -20%) rotate(8deg);
      }
      100% {
        transform: translate(0, 0) rotate(0deg);
      }
    }
    
    @keyframes patternFloat {
      0%, 100% {
        transform: translateY(0) scale(1) rotate(0deg);
        opacity: 1;
      }
      33% {
        transform: translateY(-30px) scale(1.08) rotate(2deg);
        opacity: 0.9;
      }
      66% {
        transform: translateY(-15px) scale(1.05) rotate(-2deg);
        opacity: 0.95;
      }
    }
    
    /* Scroll-based animation effect */
    @media (prefers-reduced-motion: no-preference) {
      .text-section {
        animation: backgroundScroll 1s ease-out;
      }
    }
    
    @keyframes backgroundScroll {
      from {
        background-position: 0 -50px;
      }
      to {
        background-position: 0 0;
      }
    }
    
    /* Ensure content stays above animated backgrounds */
    .text-section > * {
      position: relative;
      z-index: 3;
    }

    /* Modern Donate Button Styling */
      .donate-nav-button a {
        background: linear-gradient(135deg, #1565c0, #0d47a1) !important;
        color: white !important;
        padding: 12px 30px !important;
        border-radius: 25px !important;
        border: 2px solid transparent !important;
        font-weight: 600 !important;
        letter-spacing: 0.5px !important;
        transition: all 0.3s ease !important;
        box-shadow: 0 4px 15px rgba(13, 71, 161, 0.3) !important;
        text-transform: uppercase !important;
        font-size: 0.95rem !important;
      }

      .donate-nav-button a:hover {
        background: linear-gradient(135deg, #0d47a1, #1565c0) !important;
        color: white !important;
        transform: translateY(-2px) !important;
        box-shadow: 0 6px 20px rgba(13, 71, 161, 0.5) !important;
        border-color: rgba(255, 255, 255, 0.3) !important;
      }

    /* Modern Prayer Times Styling */
    .prayer-times-table-wrapper {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), rgba(255, 255, 255, 0.95)) !important;
      border-radius: 20px !important;
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.25), 0 5px 15px rgba(3, 30, 104, 0.1) !important;
      max-width: 550px !important;
      padding: 35px 40px !important;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .prayer-title {
      color: rgb(3, 30, 104) !important;
      font-size: 2rem !important;
      font-weight: 800 !important;
      margin-bottom: 25px !important;
      letter-spacing: 0.5px;
      text-transform: uppercase;
    }

    .prayer-times-table {
      margin-bottom: 20px !important;
    }

    .prayer-times-table th {
      background: linear-gradient(135deg, rgb(3, 30, 104), rgb(82, 123, 235)) !important;
      color: white !important;
      font-weight: 700 !important;
      font-size: 1.1rem !important;
      padding: 15px 12px !important;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border: none !important;
    }

    .prayer-times-table th:first-child {
      border-top-left-radius: 12px;
    }

    .prayer-times-table th:last-child {
      border-top-right-radius: 12px;
    }

    .prayer-times-table td {
      padding: 16px 12px !important;
      font-size: 1.1rem !important;
      color: #333 !important;
      font-weight: 500 !important;
      border-bottom: 1px solid rgba(3, 30, 104, 0.1) !important;
      transition: all 0.3s ease;
    }

    .prayer-times-table tr:hover td {
      background: rgba(82, 123, 235, 0.08);
      transform: scale(1.01);
    }

    .prayer-times-table tr:last-child td {
      border-bottom: none !important;
    }

    .prayer-times-table tr:last-child td:first-child {
      border-bottom-left-radius: 12px;
    }

    .prayer-times-table tr:last-child td:last-child {
      border-bottom-right-radius: 12px;
    }

    .friday-prayer-info {
      font-size: 1.1rem !important;
      color: rgb(3, 30, 104) !important;
      font-weight: 600 !important;
      margin-top: 20px !important;
      padding: 15px 20px;
      background: linear-gradient(135deg, rgba(82, 123, 235, 0.15), rgba(3, 30, 104, 0.1));
      border-radius: 12px;
    }

    /* Mobile adjustments */
    @media (max-width: 768px) {
      .prayer-times-table-wrapper {
        padding: 25px 20px !important;
      }

      .prayer-title {
        font-size: 1.6rem !important;
      }

      .prayer-times-table th,
      .prayer-times-table td {
        font-size: 1rem !important;
        padding: 12px 8px !important;
      }
    }

    @media (max-width: 480px) {
      .prayer-times-table-wrapper {
        padding: 20px 15px !important;
      }

      .prayer-title {
        font-size: 1.4rem !important;
      }

      .prayer-times-table th,
      .prayer-times-table td {
        font-size: 0.95rem !important;
        padding: 10px 6px !important;
      }

      .friday-prayer-info {
        font-size: 1rem !important;
        padding: 12px 15px;
      }
    }
  </style>

</head>

<body>

  <nav class="navbar-one flex">
    <div class="left flex">
      <div class="email">
        <i class="fa fa-envelope"></i>
        <span> info@iccsfl.com</span>
      </div>
      <div class="call">
        <i class="fa fa-phone"></i>
        <span> (954) 529-7146</span>
      </div>
    </div>
    <div class="right flex">
      <i class="fab fa-facebook"></i>
      <a href="https://www.facebook.com/iccsfl" target="_blank">Facebook</a>
    </div>
  </nav>

  <nav class="navbar-two flex" id="main-nav">

    <div class="logo">
      <img src="logo.png" alt="ICCS Logo" class="logo-image">
      <p>Islamic Center of Coral Springs</p>
    </div>
    <button class="menu-toggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="primary-navigation">
      <i class="fa fa-bars"></i>
    </button>
    <ul class="flex nav-links" id="primary-navigation">
      <li><a href="text.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li class="hide-desktop"><a href="#" onclick="window.location.href='donatepage.html'">Donate</a></li>
    </ul>
    <div class="donate-nav-button">
      <a href="#" onclick="window.location.href='donatepage.html'">Donate</a>
    </div>
  </nav>

  <section class="text-section">
    <div class="hero-container">
      <div class="hero-welcome">WELCOME TO</div>
      <hr class="hero-divider">
      <div class="hero-title">ISLAMIC CENTER OF CORAL SPRINGS</div>
      <div class="date-widget" aria-live="polite">
        <div class="date-line" id="gregorian-date">Loading date…</div>
        <div class="date-line" id="hijri-date"></div>
      </div>
    

      
      <section id="prayer-times" class="prayer-section">
        <div class="prayer-times-table-wrapper">
          <table class="prayer-times-table">
            <thead>
              <h2 class="prayer-title">Prayer Times</h2>
              <tr>
                <th>Salah</th>
                <th>Athan</th>
                <th>Iqama</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Fajr</td>
                <td><span id="Fajr">--:--</span></td>
                <td>6:25</td>
              </tr>
              <tr>
                <td>Zuhr</td>
                <td><span id="Zuhr">--:--</span></td>
                <td>1:45</td>
              </tr>
              <tr>
                <td>Asr</td>
                <td><span id="Asr">--:--</span></td>
                <td>5:15</td>
              </tr>
              <tr>
                <td>Magrib</td>
                <td><span id="Magrib">--:--</span></td>
                <td>7:08</td>
              </tr>
              <tr>
                <td>Isha</td>
                <td><span id="Isha">--:--</span></td>
                <td>8:30</td>
              </tr>

            </tbody>
          </table>
          <p class="friday-prayer-info">Friday Jummah is at 1:30 PM</p>
        </div>

      </section>
   
      
      <img src="flyer.JPG" alt="iccs-flyer" class="flyer-image" style="max-width: 550px; width: 100%; margin-top: 32px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); height: auto;">
      
         <footer class="footer">
        <img src="logo.png" alt="ICCS Logo" class="footer-logo"> <p>11050 Wiles Rd, Coral Springs, FL 33076
        </p>
        <p>&copy; 2025 Islamic Center of Coral Springs. All rights reserved.</p>
      </footer>

      </section>
    </section>
      

  
  

  <script>
    // Mobile nav toggle
    (function(){
      var nav = document.getElementById('main-nav');
      var toggle = document.querySelector('.menu-toggle');
      if (toggle && nav) {
        toggle.addEventListener('click', function(){
          var isOpen = nav.classList.toggle('is-open');
          toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
        });
      }
    })();

    (async function () {
      // ====== YOUR SETTINGS ======
      const CITY = "Coral Springs";
      const STATE = "FL";
      const COUNTRY = "US";
      const METHOD = 2;   // ISNA
      const SCHOOL = 0;   // Shafi
      const LAT_ADJ = 3;   // Angle-Based
      // Tune order: Imsak,Fajr,Sunrise,Dhuhr,Asr,Sunset,Maghrib,Isha,Midnight
      const TUNE = "0,1,0,1,1,1,0,2,0";  // Fajr +1, Maghrib +2

      // Helper: convert "13:13" → "1:13 PM"
      function to12Hour(timeStr) {
        if (!timeStr) return "--:--";
        let [h, m] = timeStr.split(":").map(Number);
        const ampm = h >= 12 ? "PM" : "AM";
        h = h % 12 || 12; // convert 0 → 12, 13 → 1
        return `${h}:${m.toString().padStart(2, '0')} ${ampm}`;
      }

      // Build today's API URL
      const now = new Date();
      // Immediately set Gregorian date so UI isn't stuck on "Loading"
      try {
        var gregElInit = document.getElementById('gregorian-date');
        if (gregElInit) {
          var gregFormatterInit = new Intl.DateTimeFormat('en-US', {
            weekday: 'long', year: 'numeric', month: 'short', day: 'numeric'
          });
          gregElInit.textContent = gregFormatterInit.format(now);
        }
      } catch (e) {
        var gregElInitFallback = document.getElementById('gregorian-date');
        if (gregElInitFallback) gregElInitFallback.textContent = now.toDateString();
      }
      const dd = String(now.getDate()).padStart(2, '0');
      const mm = String(now.getMonth() + 1).padStart(2, '0');
      const yyyy = now.getFullYear();
      const today = `${dd}-${mm}-${yyyy}`;

      const url = `https://api.aladhan.com/v1/timingsByCity/${today}` +
        `?city=${encodeURIComponent(CITY)}` +
        `&state=${encodeURIComponent(STATE)}` +
        `&country=${encodeURIComponent(COUNTRY)}` +
        `&method=${METHOD}&school=${SCHOOL}` +
        `&latitudeAdjustmentMethod=${LAT_ADJ}` +
        `&tune=${TUNE}`;

      try {
        const res = await fetch(url, { cache: "no-store" });
        const json = await res.json();
        if (json.code !== 200) throw new Error(json.status || "API error");

        const t = json.data.timings;
        const d = json.data.date;

        // Map Aladhan keys → your table span IDs
        const map = {
          Fajr: ["Fajr"],
          Dhuhr: ["Zuhr"],       // your table uses "Zuhr"
          Asr: ["Asr"],
          Maghrib: ["Magrib"],   // your table uses "Magrib"
          Isha: ["Isha"]
        };

        for (const key in map) {
          const val = (t[key] || "").replace(/\s*\(EDT\)|\s*\(EST\)/g, "");
          for (const id of map[key]) {
            const el = document.getElementById(id);
            if (el) el.textContent = to12Hour(val);
          }
        }

        // Populate dates
        var gregEl = document.getElementById('gregorian-date');
        var hijriEl = document.getElementById('hijri-date');
        if (d) {
          // Keep Gregorian as already set; only update if empty
          if (gregEl && (!gregEl.textContent || /Loading/i.test(gregEl.textContent))) {
            gregEl.textContent = d.readable || gregEl.textContent;
          }

          if (hijriEl) {
            // Hijri: e.g., 27 Rabi Al-Awwal 1447 AH
            var h = d.hijri || {};
            var hijriDay = h.day || '';
            var hijriMonth = (h.month && (h.month.en || h.month.number)) || '';
            var hijriYear = h.year || '';
            var hijriSuffix = h.designation && h.designation.abbreviated ? (' ' + h.designation.abbreviated) : ' AH';
            var hijriText = [hijriDay, hijriMonth, hijriYear].filter(Boolean).join(' ') + hijriSuffix;
            hijriEl.textContent = hijriText.trim();
          }
        }

        console.log("Aladhan URL used:", url);
      } catch (e) {
        console.error("Unable to load prayer times:", e);
        // Ensure Gregorian still shows a sensible value even if API fails
        var gregElErr = document.getElementById('gregorian-date');
        if (gregElErr && (!gregElErr.textContent || /Loading/i.test(gregElErr.textContent))) {
          gregElErr.textContent = now.toDateString();
        }
      }
    })();
  </script>


</body>

</html>